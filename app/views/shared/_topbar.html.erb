<header class="sticky top-0 z-20 border-b border-white/10 bg-dark-panel px-5 pt-[calc(env(safe-area-inset-top)+1rem)] pb-4 backdrop-blur md:px-8">
  <div class="flex flex-wrap items-center gap-4">
    <div class="flex flex-1 items-center gap-3">
      <button class="rounded-full p-2 text-light-text/70 hover:text-light-text hover:bg-white/10 md:hidden focus-ring" data-action="sidebar#open" aria-label="Open menu">
        <svg class="icon-sm" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>

      <div>
        <h1 class="text-xl font-semibold"><%= content_for?(:page_title) ? yield(:page_title) : "Dashboard" %></h1>
        <% if content_for?(:page_subtitle) %>
          <p class="text-sm text-light-text/60"><%= yield(:page_subtitle) %></p>
        <% end %>
      </div>
    </div>

    <div class="flex flex-1 items-center gap-3 justify-end min-w-[240px]">
      <div class="hidden lg:block w-64">
        <%= render "shared/ui/input",
                   placeholder: "Search programs & docs",
                   hotkey: search_keytip,
                   search_keytip: true,
                   form_action: search_path %>
      </div>

      <%= render "shared/ui/button", label: "Filter", variant: "ghost", url: "#" %>

      <% if content_for?(:right_panel) %>
        <button class="rounded-full p-2 text-light-text/70 hover:text-light-text hover:bg-white/10 md:hidden focus-ring" data-action="right-panel#open" aria-label="Open panel">
          <svg class="icon-sm" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      <% end %>

      <% if content_for?(:toolbar) %>
        <%= yield(:toolbar) %>
      <% end %>
    </div>
  </div>
</header>
