@config "../../../tailwind.config.js";
@import "tailwindcss";

@layer base {
  :root {
    --dark-bg: #0a0d13;
    --dark-panel: rgba(17, 20, 29, 0.72);
    --dark-panel-strong: rgba(17, 20, 29, 0.92);
    --light-text: #f8f9fa;
    --accent-red: #e06469;
    --gray-muted: #6c7280;
    --border-base: rgba(248, 249, 250, 0.16);
    --panel-border: rgba(248, 249, 250, 0.12);
    --page-gradient-1: rgba(224, 100, 105, 0.12);
    --page-gradient-2: rgba(108, 114, 128, 0.18);
    color-scheme: dark;
  }

  .theme-dark-coral {
    --dark-bg: #0a0d13;
    --dark-panel: rgba(17, 20, 29, 0.72);
    --dark-panel-strong: rgba(17, 20, 29, 0.92);
    --light-text: #f8f9fa;
    --accent-red: #e06469;
    --gray-muted: #6c7280;
    --border-base: rgba(248, 249, 250, 0.16);
    --panel-border: rgba(248, 249, 250, 0.12);
    --page-gradient-1: rgba(224, 100, 105, 0.14);
    --page-gradient-2: rgba(108, 114, 128, 0.2);
    color-scheme: dark;
  }

  .theme-dark-blue {
    --dark-bg: #0b1120;
    --dark-panel: rgba(15, 23, 42, 0.72);
    --dark-panel-strong: rgba(15, 23, 42, 0.92);
    --light-text: #f1f5f9;
    --accent-red: #5b8def;
    --gray-muted: #7b8aa1;
    --border-base: rgba(241, 245, 249, 0.16);
    --panel-border: rgba(241, 245, 249, 0.12);
    --page-gradient-1: rgba(91, 141, 239, 0.18);
    --page-gradient-2: rgba(122, 139, 189, 0.18);
    color-scheme: dark;
  }

  .theme-light {
    --dark-bg: #f8fafc;
    --dark-panel: rgba(255, 255, 255, 0.9);
    --dark-panel-strong: rgba(255, 255, 255, 0.98);
    --light-text: #0f172a;
    --accent-red: #d25b5f;
    --gray-muted: #5b6475;
    --border-base: rgba(15, 23, 42, 0.12);
    --panel-border: rgba(15, 23, 42, 0.08);
    --page-gradient-1: rgba(210, 91, 95, 0.08);
    --page-gradient-2: rgba(99, 102, 241, 0.08);
    color-scheme: light;
  }

  html {
    font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  body {
    @apply bg-dark-bg text-light-text min-h-screen;
    background-image:
      radial-gradient(800px 400px at 10% -10%, var(--page-gradient-1), transparent 60%),
      radial-gradient(600px 300px at 90% 0%, var(--page-gradient-2), transparent 55%);
  }

  * {
    border-color: var(--border-base);
  }

  a {
    @apply text-inherit no-underline;
  }

  a:hover {
    @apply text-light-text;
  }

  html.theme-light {
    color-scheme: light;
    --turbo-progress-color: var(--gray-muted);
    --turbo-progress-glow: rgba(108, 114, 128, 0.35);
    --loading-backdrop: rgba(248, 249, 250, 0.75);
    --loading-surface: rgba(248, 249, 250, 0.9);
    --loading-surface-border: rgba(10, 13, 19, 0.12);
    --loading-spinner: var(--gray-muted);
    --loading-spinner-track: rgba(10, 13, 19, 0.16);
  }

  html[data-palette="blue"] {
    --turbo-progress-color: #4f9dff;
    --turbo-progress-glow: rgba(79, 157, 255, 0.45);
    --loading-spinner: #4f9dff;
  }

  html[data-palette="teal"] {
    --turbo-progress-color: #2dd4bf;
    --turbo-progress-glow: rgba(45, 212, 191, 0.4);
    --loading-spinner: #2dd4bf;
  }

  html[data-palette="purple"] {
    --turbo-progress-color: #a855f7;
    --turbo-progress-glow: rgba(168, 85, 247, 0.4);
    --loading-spinner: #a855f7;
  }

  html[aria-busy="true"] #global-loading {
    opacity: 1;
    pointer-events: auto;
  }

  .brand-logo__image--light {
    display: none;
  }

  .theme-light .brand-logo__image--light {
    display: inline;
  }

  .theme-light .brand-logo__image--dark {
    display: none;
  }

  .turbo-progress-bar {
    background-color: var(--turbo-progress-color);
    box-shadow: 0 0 12px var(--turbo-progress-glow);
    height: 3px;
    border-radius: 999px;
  }

  #global-loading {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 150ms ease;
    z-index: 60;
  }

  #global-loading .global-loading__backdrop {
    position: absolute;
    inset: 0;
    background: var(--loading-backdrop);
    backdrop-filter: blur(8px);
  }

  #global-loading .global-loading__content {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.9rem 1.2rem;
    border-radius: 999px;
    background: var(--loading-surface);
    border: 1px solid var(--loading-surface-border);
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
  }

  #global-loading .global-loading__spinner {
    width: 34px;
    height: 34px;
    border-radius: 999px;
    border: 2px solid var(--loading-spinner-track);
    border-top-color: var(--loading-spinner);
    border-right-color: var(--loading-spinner);
    animation: global-loading-spin 0.9s linear infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    #global-loading {
      transition: none;
    }

    #global-loading .global-loading__spinner {
      animation: none;
    }
  }

  @keyframes global-loading-spin {
    to {
      transform: rotate(360deg);
    }
  }
}

@layer components {
  .panel {
    @apply bg-dark-panel border rounded-2xl shadow-panel backdrop-blur-[18px];
    border-color: var(--panel-border);
  }

  .panel-strong {
    @apply bg-dark-panel-strong border rounded-2xl shadow-panel backdrop-blur-[18px];
    border-color: var(--panel-border);
  }

  .panel-border {
    @apply border rounded-2xl;
    border-color: var(--panel-border);
  }

  .interactive {
    @apply transition duration-200 ease-out;
  }

  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-red/70 focus-visible:ring-offset-2 focus-visible:ring-offset-dark-bg;
  }

  .icon-sm {
    @apply h-5 w-5;
  }

  .icon-md {
    @apply h-6 w-6;
  }

  .docs-content {
    @apply text-sm leading-relaxed text-light-text/90 space-y-4;
  }

  .docs-content h1,
  .docs-content h2,
  .docs-content h3,
  .docs-content h4 {
    @apply font-semibold text-light-text;
  }

  .docs-content h1 {
    @apply text-2xl;
  }

  .docs-content h2 {
    @apply text-xl mt-6;
  }

  .docs-content h3 {
    @apply text-lg mt-5;
  }

  .docs-content ul,
  .docs-content ol {
    @apply list-inside space-y-2 pl-4;
  }

  .docs-content ul {
    @apply list-disc;
  }

  .docs-content ol {
    @apply list-decimal;
  }

  .docs-content a {
    @apply text-accent-red underline underline-offset-4;
  }

  .docs-content blockquote {
    @apply border-l-2 border-white/20 pl-4 text-light-text/70;
  }

  .docs-content code {
    @apply rounded bg-white/10 px-1 py-0.5 text-xs;
  }

  .docs-content pre {
    @apply rounded-xl bg-black/40 p-4 text-xs overflow-x-auto;
  }

  .docs-content img {
    @apply rounded-2xl border border-white/10 shadow-panel;
  }

  .search-keytip {
    @apply inline-flex items-center gap-1 text-[10px] text-light-text/60;
  }

  .search-keytip kbd {
    @apply rounded border border-white/10 bg-white/10 px-1.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-light-text/70;
  }

  .search-keytip__divider {
    @apply text-light-text/40;
  }
}
